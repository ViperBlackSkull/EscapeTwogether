<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 100" fill="none">
  <defs>
    <linearGradient id="lockGold" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FFB74D"/>
      <stop offset="50%" stop-color="#D4A574"/>
      <stop offset="100%" stop-color="#8B7355"/>
    </linearGradient>

    <linearGradient id="lockBody" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#E0B585"/>
      <stop offset="50%" stop-color="#8B7355"/>
      <stop offset="100%" stop-color="#6B5A42"/>
    </linearGradient>

    <linearGradient id="lockHighlight" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#FFE4B5"/>
      <stop offset="100%" stop-color="#D4A574"/>
    </linearGradient>

    <linearGradient id="lockRose" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#F4D0C3"/>
      <stop offset="100%" stop-color="#C9A9A6"/>
    </linearGradient>

    <radialGradient id="keyholeGlow" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FFB74D" stop-opacity="0.6"/>
      <stop offset="100%" stop-color="#FFB74D" stop-opacity="0"/>
    </radialGradient>

    <filter id="lockGlow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="1.5" result="blur"/>
      <feComposite in="SourceGraphic" in2="blur" operator="over"/>
    </filter>

    <filter id="lockShadow">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-color="#3a302b" flood-opacity="0.5"/>
    </filter>

    <!-- Shackle for locked state -->
    <symbol id="shackle" viewBox="0 0 50 50">
      <path d="M10 35 L10 20 Q10 5 25 5 Q40 5 40 20 L40 35"
            stroke="url(#lockGold)" stroke-width="5" fill="none" stroke-linecap="round" filter="url(#lockGlow)">
        <animate attributeName="stroke-opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite"/>
      </path>
      <!-- Shackle inner line -->
      <path d="M15 35 L15 20 Q15 10 25 10 Q35 10 35 20 L35 35"
            stroke="url(#lockHighlight)" stroke-width="1" fill="none" opacity="0.4"/>
    </symbol>

    <!-- Open shackle for unlocked state -->
    <symbol id="shackleOpen" viewBox="0 0 50 50">
      <path d="M10 35 L10 20 Q10 5 25 5 Q40 5 40 20 L40 10"
            stroke="url(#lockGold)" stroke-width="5" fill="none" stroke-linecap="round" filter="url(#lockGlow)"
            transform="rotate(-15, 25, 20)">
        <animate attributeName="stroke-opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite"/>
      </path>
      <path d="M15 35 L15 20 Q15 10 25 10 Q35 10 35 18 L35 12"
            stroke="url(#lockHighlight)" stroke-width="1" fill="none" opacity="0.4"
            transform="rotate(-15, 25, 20)"/>
    </symbol>
  </defs>

  <!-- LOCKED STATE (visible by default) -->
  <g id="locked-state">
    <!-- Shackle -->
    <use href="#shackle" x="15" y="0" width="50" height="50"/>

    <!-- Lock body -->
    <rect x="10" y="35" width="60" height="55" rx="8" fill="url(#lockBody)" filter="url(#lockShadow)"/>

    <!-- Body highlight -->
    <rect x="12" y="37" width="56" height="20" rx="6" fill="url(#lockHighlight)" opacity="0.3"/>

    <!-- Decorative border on body -->
    <rect x="15" y="40" width="50" height="45" rx="5"
          stroke="url(#lockGold)" stroke-width="1" fill="none" opacity="0.6"/>

    <!-- Keyhole glow -->
    <ellipse cx="40" cy="62" rx="12" ry="10" fill="url(#keyholeGlow)">
      <animate attributeName="opacity" values="0.4;0.7;0.4" dur="2s" repeatCount="indefinite"/>
    </ellipse>

    <!-- Keyhole -->
    <circle cx="40" cy="58" r="6" fill="#1a1a2e"/>
    <circle cx="40" cy="58" r="6" stroke="url(#lockGold)" stroke-width="1.5" fill="none"/>
    <rect x="37" y="58" width="6" height="15" rx="1" fill="#1a1a2e"/>
    <rect x="37" y="58" width="6" height="15" rx="1" stroke="url(#lockGold)" stroke-width="1" fill="none"/>

    <!-- Keyhole inner detail -->
    <circle cx="40" cy="58" r="2" fill="url(#lockRose)" opacity="0.5"/>

    <!-- Decorative corners on lock body -->
    <g opacity="0.7">
      <path d="M15 45 Q18 42 22 45" stroke="url(#lockRose)" stroke-width="1" fill="none"/>
      <path d="M65 45 Q62 42 58 45" stroke="url(#lockRose)" stroke-width="1" fill="none"/>
      <path d="M15 80 Q18 83 22 80" stroke="url(#lockRose)" stroke-width="1" fill="none"/>
      <path d="M65 80 Q62 83 58 80" stroke="url(#lockRose)" stroke-width="1" fill="none"/>
    </g>

    <!-- Decorative rivets -->
    <g fill="url(#lockGold)">
      <circle cx="20" cy="48" r="2">
        <animate attributeName="opacity" values="0.6;0.9;0.6" dur="2.5s" repeatCount="indefinite"/>
      </circle>
      <circle cx="60" cy="48" r="2">
        <animate attributeName="opacity" values="0.6;0.9;0.6" dur="2.5s" repeatCount="indefinite" begin="0.5s"/>
      </circle>
      <circle cx="20" cy="78" r="2">
        <animate attributeName="opacity" values="0.6;0.9;0.6" dur="2.5s" repeatCount="indefinite" begin="1s"/>
      </circle>
      <circle cx="60" cy="78" r="2">
        <animate attributeName="opacity" values="0.6;0.9;0.6" dur="2.5s" repeatCount="indefinite" begin="1.5s"/>
      </circle>
    </g>
  </g>

  <!-- UNLOCKED STATE (hidden by default, add class="unlocked" to show) -->
  <g id="unlocked-state" style="display: none;">
    <!-- Open Shackle -->
    <use href="#shackleOpen" x="15" y="-5" width="50" height="50"/>

    <!-- Lock body (same as locked) -->
    <rect x="10" y="35" width="60" height="55" rx="8" fill="url(#lockBody)" filter="url(#lockShadow)"/>
    <rect x="12" y="37" width="56" height="20" rx="6" fill="url(#lockHighlight)" opacity="0.3"/>
    <rect x="15" y="40" width="50" height="45" rx="5"
          stroke="url(#lockGold)" stroke-width="1" fill="none" opacity="0.6"/>

    <!-- Open keyhole (glowing to show unlocked) -->
    <ellipse cx="40" cy="62" rx="12" ry="10" fill="url(#keyholeGlow)">
      <animate attributeName="opacity" values="0.6;1;0.6" dur="1.5s" repeatCount="indefinite"/>
    </ellipse>

    <circle cx="40" cy="58" r="6" fill="#2a2a3e"/>
    <circle cx="40" cy="58" r="6" stroke="#FFB74D" stroke-width="1.5" fill="none">
      <animate attributeName="stroke-opacity" values="0.7;1;0.7" dur="1.5s" repeatCount="indefinite"/>
    </circle>
    <rect x="37" y="58" width="6" height="15" rx="1" fill="#2a2a3e"/>
    <rect x="37" y="58" width="6" height="15" rx="1" stroke="#FFB74D" stroke-width="1" fill="none">
      <animate attributeName="stroke-opacity" values="0.7;1;0.7" dur="1.5s" repeatCount="indefinite"/>
    </rect>

    <!-- Green indicator for unlocked -->
    <circle cx="55" cy="45" r="3" fill="#4a9b8c" opacity="0.8">
      <animate attributeName="opacity" values="0.6;1;0.6" dur="1s" repeatCount="indefinite"/>
    </circle>

    <!-- Decorative elements -->
    <g fill="url(#lockGold)" opacity="0.7">
      <circle cx="20" cy="48" r="2"/>
      <circle cx="60" cy="48" r="2"/>
      <circle cx="20" cy="78" r="2"/>
      <circle cx="60" cy="78" r="2"/>
    </g>
  </g>

  <!-- CSS for state switching -->
  <style>
    #unlocked-state { display: none; }
    .unlocked #locked-state { display: none; }
    .unlocked #unlocked-state { display: block; }
  </style>
</svg>
